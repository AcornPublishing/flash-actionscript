<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link rel="stylesheet" href="desref.css" type="text/css"></head><h1>SharedObject.flush</h1><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>mySO.flush(); </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>mySO.flush(bytes); </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>soflush= mySO.flush(bytes); </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Where the shared object referenced by <span class=Code><spanstyle='font-family:Courier'>mySO </span></span>is saved to a local file on theclient’s hard drive. The optional parameter, <span class=Code><spanstyle='font-family:Courier'>bytes, </span></span>is the amount of disk spacethat is required for the shared object.</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>This method is <span class=ImportantWord><spanstyle='font-family:Helvetica'>compatible with Flash MX or later. </span></span>There are no known issues with any version of Flash that supports this method.See also <span class=ImportantWord><span style='font-family:Helvetica'>SharedObject.getSize. </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>A shared object has the same format and structure as anobject of the type <span class=Code><span style='font-family:Courier'>Object </span></span>object. However you need to use the supplied methods and properties of the <spanclass=Code><span style='font-family:Courier'>SharedObject </span></span>objectto access and manipulate a shared object. See also <span class=ImportantWord><spanstyle='font-family:Helvetica'>SharedObject.getSize. </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>flush </span></span>method can return three possible values: the Boolean values of <spanclass=Code><span style='font-family:Courier'>true </span></span>and <spanclass=Code><span style='font-family:Courier'>false </span></span>or a stringvalue of <span class=Code><span style='font-family:Courier'>pending. </span></span>If a <span class=Code><span style='font-family:Courier'>true </span></span>value is returned, the shared object has been successfully saved to theclient’s hard disk. This means the client has permitted local informationstorage for shared objects from you domain and the amount of allotted diskspace is sufficient for the size of the shared object.</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>If the Boolean <span class=Code><span style='font-family:Courier'>false </span></span>is returned by the <span class=Code><spanstyle='font-family:Courier'>flush </span></span>method it means the client hasexplicitly denied local information storage from the current domain, or theuser has denied the amount of information required to store the local sharedobject. The Boolean <span class=Code><span style='font-family:Courier'>false </span></span>may also be returned if the shared object failed to write the information todisk.</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>If a string with the value of <span class=Code><spanstyle='font-family:Courier'>pending </span></span>is returned the amount ofdisk space allotted for this domain is insufficient to write the shared objectto disk. In this case, a dialog box is presented to the user asking to increasethe amount of disk space allotted for this domain. If the user denies thisrequest <span class=ImportantWord><span style='font-family:Helvetica'>SharedObject.onStatus </span></span>is invoked with a <span class=Code><span style='font-family:Courier'>code </span></span>property of <span class=Code><span style='font-family:Courier'>SharedObject.flush.failed. </span></span></p><h3>Description</h3><p class=MsoBodyText>This method is used to immediately write shared objects toa local file.</p><p class=MsoBodyText>&nbsp;</p><table border=1 cellspacing=0 cellpadding=0 style='margin-left:14.2pt; border-collapse:collapse;border:none;'> <tr> <td width=193 valign=top style='width:144.65pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Code </span></span></p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td>  <td width=189 valign=top style='width:141.75pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Additional explanation </span></span></p>  </td>  <td width=190 valign=top style='width:142.2pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Notes </span></span></p>  </td> </tr> <tr> <td width=193 valign=top style='width:144.65pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><br> <span class=Code><span style='font-family:Courier'>mySO.flush(); </span></span></p>  </td>  <td width=189 valign=top style='width:141.75pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td>  <td width=190 valign=top style='width:142.2pt;border:none;border-bottom:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>Saves the locally persistent shared object to the client’s hard drive.</p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td> </tr> <tr> <td width=193 valign=top style='width:144.65pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><br> <span class=Code><span style='font-family:Courier'>mySO.flush(1000); </span></span></p>  </td>  <td width=189 valign=top style='width:141.75pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><br> The <span class=Code><span style='font-family:Courier'>1000 </span></span> parameter represents bytes.</p>  </td>  <td width=190 valign=top style='width:142.2pt;border:none;border-bottom:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>Use the optional <span  class=Code><span style='font-family:Courier'>bytes </span></span>parameter to acquire the minimum amount of disk space you’ll need. You should to work out the minimum amount of disk space (in bytes) that your shared object will require. Pass that amount when using flush for the first time. This will allow your shared object to enlarge in size overtime without requiring the user to accept or modify settings continuously.</p>  <p class=MsoBodyText style='margin-left:0in'> </p>  </td> </tr></table><h3>Examples and practical uses</h3><p class=MsoBodyText>By default, shared objects are written to the client’shard drive when the Flash movie is closed, so technically you don’t need to usethis method. However the <span class=Code><span style='font-family:Courier'>flush </span></span>method forces the information to be stored immediately. Using the <spanclass=Code><span style='font-family:Courier'>flush </span></span>method canhelp to alleviate problems which may arise when using shared objects withoutit. For example, if your movie requires 1000 bytes of information to store itsdata and you don’t request this amount of space with the <span class=Code><spanstyle='font-family:Courier'>flush </span></span>method, your shared object willnot be written to the hard drive if the needed amount is not allocated for yourdomain by the user, because the Flash Player can’t display the dialog box as itwill have shutdown. So, it is important to use the <span class=Code><spanstyle='font-family:Courier'>flush </span></span>method when using sharedobjects to make sure your data is saved. Of course, the user could deny yourdomain from using any space, but that is the user’s choice, not a flaw in yourcode. See the example <ahref="../fla/sharedobjectflush.fla">sharedobjectflush.fla</a>/ <a href="../swf/sharedobjectflush.swf">sharedobjectflush.swf</a>for an example of using shared objects to show new users a welcome screen andreturning visitors a members screen.</p><h3>Tips and precautions</h3><p class=MsoBodyText>Make sure you have written the necessary code to handle a <spanclass=Code><span style='font-family:Courier'>failed </span></span>or <spanclass=Code><span style='font-family:Courier'>pending </span></span>result fromthe <span class=Code><span style='font-family:Courier'>flush </span></span>method. If you don’t, your application will fail and your shared object willnot work as intended. However, if your application/web site contains thenecessary code to handle an error such as this, you’ll be able to inform theuser that your application won’t work unless they allow the allocated sizerequest; you can ask them to reconsider. See <span class=ImportantWord><spanstyle='font-family:Helvetica'>SharedObject.onStatus </span></span>for moreinformation. </p><h4>SOL files</h4><p class=MsoBodyText>When a shared object is saved to the client’s hard drive,a file with the SOL extension is used to hold all of the information. </p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>The following table represents the location of these filesfor various operating systems and versions. In the table, <span class=Code><spanstyle='font-family:Courier'>{path} </span></span>represents the path parameterof the <span class=Code><span style='font-family:Courier'>SharedObject.getLocal </span></span>method. This can alter where your file is stored on the hard disk, although,the SOL file will reside below these upper level directories which can’t bealtered. Also, <span class=Code><span style='font-family:Courier'>{domain} </span></span>represents the domain name where the SWF file that created the shared objectresides and <span class=Code><span style='font-family:Courier'>localhost </span></span>is used for local files (where <span class=Code><span style='font-family:Courier'>{domain} </span></span>is).</p><p class=MsoBodyText>&nbsp;</p><table border=1 cellspacing=0 cellpadding=0 style='margin-left:23.4pt; border-collapse:collapse;border:none;'> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Operating System and version </span></span></p>  </td>  <td width=355 valign=top style='width:3.7in;border:solid windowtext .5pt;  border-left:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Path to SOL file </span></span></p>  </td> </tr> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>Microsoft Windows XP (Home and Pro editions)</p>  </td>  <td width=355 valign=top style='width:3.7in;border-top:none;border-left:none;  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>C:\Documents and Settings\{user}\Application Data\Macromedia/flash Player\{domain}\{path} </span></span></p>  </td> </tr> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>Microsoft Windows ME</p>  </td>  <td width=355 valign=top style='width:3.7in;border-top:none;border-left:none;  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>C:\Windows\Application Data\Macromedia/flash Player\{domain}\{path} </span></span></p>  </td> </tr> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>Microsoft Windows 2000</p>  </td>  <td width=355 valign=top style='width:3.7in;border-top:none;border-left:none;  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>C:\Documents and Settings\{user}\Application Data\Macromedia/flash Player\{domain}\{path} </span></span></p>  </td> </tr> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>Microsoft Windows NT</p>  </td>  <td width=355 valign=top style='width:3.7in;border-top:none;border-left:none;  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>C:\Windows\profiles\{user}\Application Data\Macromedia/flash Player\{domain}\{path} </span></span></p>  </td> </tr> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>Microsoft Windows 98</p>  </td>  <td width=355 valign=top style='width:3.7in;border-top:none;border-left:none;  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>C:\Windows\Application Data\Macromedia/flash Player\{domain}\{path} </span></span></p>  </td> </tr> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>MacOS X</p>  </td>  <td width=355 valign=top style='width:3.7in;border-top:none;border-left:none;  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>Hard Disk/Users/&lt;user name&gt;/Library/ Application Support/Macromedia/Flash Player/{domain}/{path} </span></span></p>  </td> </tr> <tr> <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>MacOS 9.xx (single user)</p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>(multi user)</p>  </td>  <td width=355 valign=top style='width:3.7in;border-top:none;border-left:none;  border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>Hard Disk:System Folder:Application Support: Macromedia:Flash Player:{domain}:{path} </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>&nbsp; </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>Hard Disk:Users:{user}:Documents: Macromedia: Flash Player:{domain}:{path} </span></span></p>  </td> </tr></table><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>You should be aware that a user can find any SOL file andmake changes to the information within, and also completely remove the sharedobject. So a shared object should not be used to store critical or sensitiveinformation.</p>