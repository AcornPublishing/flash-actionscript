<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link rel="stylesheet" href="desref.css" type="text/css"><h1><a name="_Toc15970112">XMLSocket.onClose</a></h1><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXMLSocket.onClose()</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Where <span class=Code><span style='font-family:Courier'>myXMLSocket</span></span>is an instance of the <span class=Code><span style='font-family:Courier'>XMLSocket</span></span>.</p><p class=MsoBodyText><span class=Code>&nbsp;</span></p><p class=MsoBodyText>Compatible with <span class=ImportantWord><spanstyle='font-family:Helvetica'>Flash Player 5 and later</span></span><spanclass=Code>.</span>The <span class=Code><span style='font-family:Courier'>XMLSocket.onClose()</span></span>event handler is <span class=ImportantWord><span style='font-family:Helvetica'>invokedwhen a connection is closed for any number of means by the server</span></span>.See the related entries: <span class=ImportantWord><span style='font-family:Helvetica'>XMLSocket.close</span></span>and<span class=ImportantWord><spanstyle='font-family:Helvetica'>XMLSocket.connect</span></span>.</p><h3>Description</h3><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>XMLSocket.onClose()</span></span><span class=ImportantWord><span style='font-family:Helvetica'>event handler</span></span>is used with a custom &quot;callback&quot; function that is invoked when aserver closes a socket connection. By default there are no actions performedinside the <span class=Code><span style='font-family:Courier'>XMLSocket.onClose()</span></span>event handler.</p><p class=MsoBodyText>&nbsp;</p><table border=1 cellspacing=0 cellpadding=0 style='margin-left:14.2pt; border-collapse:collapse;border:none;'> <tr>  <td width=300 valign=top style='width:225.2pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Code</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=120 valign=top style='width:90.0pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Returned values</span></span></p>  </td>  <td width=151 valign=top style='width:4.0cm;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Notes</span></span></p>  </td> </tr> <tr>  <td width=300 valign=top style='width:225.2pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>mySocket = new XMLSocket();</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><b><span style='font-family:Courier'>mySocket.connect(&quot;http://www.mydomain.com&quot;,12345);</span></b></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><b><span style='font-family:Courier'>mySocket.onClose  = function(){</span></b></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><b><span style='font-family:Courier'>_  _root.error.text = &quot;connection  lost&quot;;</span></b></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><b><span style='font-family:Courier'>}</span></b></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=120 valign=top style='width:90.0pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>connection lost</span></span></p>  </td>  <td width=151 valign=top style='width:4.0cm;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0cm'>If the server drops the connection  <span class=Code><span style='font-family:Courier'>mySocket</span></span>,  the text field called error will display the text &quot;<span class=Code><span  style='font-family:Courier'>connection lost</span></span>&quot;.</p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td> </tr></table><h3>Examples and practical uses</h3><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>XMLSocket.onClose()</span></span>event handler is used as a &quot;callback&quot; function whenever a servercloses a socket connection that is established. Unless you override the default<span class=Code><span style='font-family:Courier'>XMLSocket.onClose()</span></span>event handler function with your own code, no actions are performed by thefunction. Therefore, you can use code similar to what is provided above in thedescription, or you can create a function in the following way:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText style='margin-left:18.0pt'><span class=Code><spanstyle='font-family:Courier'>thesocket = new XMLSocket();</span></span></p><p class=MsoBodyText style='margin-left:18.0pt'><span class=Code><spanstyle='font-family:Courier'>thesocket.onClose = closeHandler;</span></span></p><p class=MsoBodyText style='margin-left:18.0pt'>&nbsp;</p><p class=MsoBodyText style='margin-left:18.0pt'><span class=Code><spanstyle='font-family:Courier'>thesocket<b>.connect(&quot;http://www.mydomain.com&quot;,12345);</b></span></span></p><p class=MsoBodyText style='margin-left:18.0pt'><span class=Code><spanstyle='font-family:Courier'>function closeHandler(){</span></span></p><p class=MsoBodyText style='margin-left:18.0pt'><span class=Code><spanstyle='font-family:Courier'>  _root.error.text = &quot;connection lost&quot;;</span></span></p><p class=MsoBodyText style='margin-left:18.0pt'><span class=Code><spanstyle='font-family:Courier'>};</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>For more information on the <span class=Code><spanstyle='font-family:Courier'>onClose</span></span> handler, refer to the example<a href="../fla/xmlsocket.onclose.fla">xmlsocket.onclose.fla</a> and <ahref="../swf/xmlsocket.onclose.swf">xmlsocket.onclose.swf</a> .</p>