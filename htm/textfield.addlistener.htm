<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link rel="stylesheet" href="desref.css" type="text/css"><h1><a name="_Toc16482986"></a><a name="_Toc16512677"><span lang=EN-US> TextField.addListener</span></a></h1><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myTextField</span></span> <spanclass=Code><span lang=EN-US style='font-family:Courier;'>.addListener(listenerObjectName)</span></span> </p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span lang=EN-US> Where </span></span> <spanclass=Code><span style='font-family:Courier'>myTextField</span></span> <spanclass=Code><span lang=EN-US>, an instance of a text field, will broadcastevent notification to </span></span> <span class=Code><span style='font-family:Courier'>listenerObjectName</span></span> <span class=Code><span lang=EN-US>  which is an </span></span> <span class=Code><span style='font-family:Courier'>Object</span></span> <span class=Code><span lang=EN-US>  object. To receive notification from the text field the listener object(</span></span> <span class=Code><span style='font-family:Courier'>listenerObjectName</span></span> <spanclass=Code><span lang=EN-US> ) should contain two methods: </span></span> <spanclass=Code><span style='font-family:Courier'>onChanged</span></span> <spanclass=Code><span lang=EN-US>  and </span></span> <span class=Code><spanstyle='font-family:Courier'>onScroller</span></span> <span class=Code><spanlang=EN-US>. These methods will be executed when the </span></span> <spanclass=Code><span style='font-family:Courier'>onScroller</span></span> <spanclass=Code><span lang=EN-US>  and </span></span> <span class=Code><spanstyle='font-family:Courier'>onChanged</span></span> <span class=Code><spanlang=EN-US> events of the text field, </span></span> <spanclass=Code><span style='font-family:Courier'>myTextField</span></span> <spanclass=Code><span lang=EN-US>, are invoked.</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US> &nbsp;</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US> Compatible with </span></span> <spanclass=ImportantWord><span style='font-family:Helvetica'>Flash Player 6 andlater</span></span> .</p><h3><span lang=EN-US> Description</span></h3><p class=MsoBodyText><span lang=EN-US> The Flashevent model allows you to set up event handlers, but there are certainsituations where this model doesn't allow you to write <i>totally </i>eventdriven code. Major failings include:</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=Bullet-Level1><span lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> <span lang=EN-US> Only the object that causes the eventcan respond to the event.</span></p><p class=Bullet-Level1><span lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> <span lang=EN-US> Only one &quot;event signal&quot; isproduced per event.</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=MsoBodyText><span lang=EN-US> In short,it is not easy to <i>propagate events to other objects not involved with theinitial event. </i>For example, you might want multiple scripts toautomatically run on the occurrence of a single event. The listener modelallows you to do this directly. The following example shows this in action; asingle text field event is propagated to two listeners, so that in the finalSWF, a change in the text field will generate <i>three </i></span><spanclass=Code><span style='font-family:Courier'>onChanged</span></span> <spanlang=EN-US> events;:</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=Bullet-Level1><span lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> <span lang=EN-US> One in the text field </span><spanclass=Code><span lang=EN-US style='font-family:Courier'>my_txt</span></span> <span lang=EN-US> (but we don't use it).</span></p><p class=Bullet-Level1><span lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> <span lang=EN-US> One in the listener object </span><spanclass=Code><span lang=EN-US style='font-family:Courier'>textListener</span></span> <spanlang=EN-US>.</span></p><p class=Bullet-Level1><span lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> <span lang=EN-US> One in the second listener object </span><spanclass=Code><span lang=EN-US style='font-family:Courier'>textListener2</span></span> <spanlang=EN-US>.</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><table border=1 cellspacing=0 cellpadding=0 style='margin-left:14.2pt; border-collapse:collapse;border:none;'> <tr>  <td width=336 valign=top style='width:252.2pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span> </p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Code</span></span> </p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=204 valign=top style='width:153.0pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span> </p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Notes</span></span> </p>  </td> </tr> <tr>  <td width=336 valign=top style='width:252.2pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  lang=EN-US style='font-family:Courier;'>&nbsp;</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>// set up listeners...</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>textListener = new Object();</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>textListener2 = new Object();</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>my_txt.addListener(textListener);</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>my_txt.addListener(textListener2);</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>//</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>textListener.onChanged = function() {</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>    trace(&quot;one heard you!&quot;);</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>};</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>textListener2.onChanged = function() {</span></span> </p>  <p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:  Courier;'>    trace(&quot;two heard you!&quot;);</span></span> </p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  lang=EN-US style='font-family:Courier;'>};</span></span> </p>  </td>  <td width=204 valign=top style='width:153.0pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span lang=EN-US> &nbsp;</span></p>  <p class=MsoBodyText style='margin-left:0cm'><span lang=EN-US> This code sets up two listeners, both of  which will respond to the </span><span class=Code><span style='font-family:  Courier'>onChanged</span></span> <span lang=EN-US>  event of </span><span class=Code><span style='font-family:Courier'>my_txt</span></span> <i><span  lang=EN-US>. </span></i><span lang=EN-US> To become a listener, an object has to be:</span></p>  <p class=MsoBodyText style='margin-left:0cm'><span lang=EN-US> &nbsp;</span></p>  <p class=MsoBodyText style='margin-left:18.0pt;text-indent:-18.0pt;'><span  lang=EN-US style='font-family:Symbol;'>·<span  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span> <span lang=EN-US> Initialized  as an </span><span class=Code><span style='font-family:Courier'>Object</span></span> <span  lang=EN-US> object via the new </span><span  class=Code><span style='font-family:Courier'>Object()</span></span> <span  lang=EN-US> constructor.</span></p>  <p class=MsoBodyText style='margin-left:18.0pt;text-indent:-18.0pt;'><span  lang=EN-US style='font-family:Symbol;'>·<span  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </span></span> <span lang=EN-US> Added  as a listener via </span><span class=Code><span style='font-family:Courier'>addListener</span></span> <span  lang=EN-US>.</span></p>  <p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p>  <p class=MsoBodyText style='margin-left:0cm'><span lang=EN-US> Once you have done these two things, you can  start adding events to the listener that will be generated by the text field  being lisened to (in this case we have used the </span><span class=Code><span  style='font-family:Courier'>onChanged</span></span> <span lang=EN-US>  events). </span></p>    </td> </tr></table><h3><span lang=EN-US> Examples and practicaluses</span></h3><p class=MsoBodyText><span class=Code><span lang=EN-US> The use of listenersis recommended whenever you want to run a number of different scripts inresponse to one event. Although you can do almost the same thing withoutlisteners (by for example, calling a number of different functions from asingle event script), using listeners is much more flexible because;</span></span> Youcan set up a listener to listen to more than one text field (or even acombination of other objects). The listener defined below will see the eventsof text fields <span class=Code><span style='font-family:Courier'>my_txt</span></span> and <span class=Code><span style='font-family:Courier'>myOther_txt</span></span> .This would be useful when you want a single script to run on change of any textfield in a form:</p><p class=MsoBodyText><span class=Code><span lang=EN-US> &nbsp;</span></span> </p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>// setup listener...</span></span> </p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>textListener= new Object();</span></span> </p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>my_txt.addListener(textListener);</span></span> </p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myOther_txt.addListener(textListener);</span></span> </p><p class=MsoBodyText style='margin-left:50.2pt'><span class=Code><spanlang=EN-US style='font-family:Courier;'>&nbsp;</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US> You can add ordelete listeners dynamically during runtime. If you had code a number ofdifferent function calls within a single event handler, you immediately losethe flexibility to change your code dynamically.</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US> &nbsp;</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US> See also the example<a href="../fla/textfield.addlistener01.fla">textfield.addlistener01.fla</a> and <ahref="../swf/textfield.addlistener01.swf">textfield.addlistener01.swf</a> .</span></span> </p><h3><span lang=EN-US> Tips and precautions</span></h3><p class=MsoBodyText><span lang=EN-US> Usingevent driven code is more efficient than using frame based scripts becauseevent based scripts execute only when they are needed.</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=MsoBodyText><span lang=EN-US> As withall event driven code Flash will respond to events as fast as it can, and thereare a number of things that may slow it down:</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=Bullet-Level1><span lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> <span lang=EN-US> Non-event driven scripts or animationsmay load up Flash, making it slow to respond to additional event scripts. Thismay start happening if you have computationally intensive tween based animationgoing on, or have set a high frame rate (anything over 20 fps)</span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span lang=EN-US> Becareful of the order in which you define and assign a listener object. Tosuccessfully assign a listener object to a text field, the listener object mustbe defined before hand – which isn't the case when calling or referring tomethods or functions in ActionScript. You can call a function in ActionScriptbefore it is defined and it will still execute, however, you cannot add alistener object to a text field without it being defined. The following code is</span><span class=ImportantWord><span style='font-family:Helvetica'>INCORRECT</span></span> <spanlang=EN-US> and the listener object will notreceive callback notification:</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myTextField</span></span> <spanclass=Code><span lang=EN-US style='font-family:Courier;'>.addListener(myObject);</span></span> </p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myTextField</span></span> <spanclass=Code><span lang=EN-US style='font-family:Courier;'>.onScroller= function () {</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>   trace(this +&quot; has changed&quot;);</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>}</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>&nbsp;</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>myObject = new Object();</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>myObject.onScroller = function (text fieldInstance) {</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>   trace(textfieldInstance + &quot; has changed&quot;);</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>}</span></span> </p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=MsoBodyText><span lang=EN-US> However,the following code defines the listener object first and then assigns it to atext field, which is the correct order:</span></p><p class=MsoBodyText><span lang=EN-US> &nbsp;</span></p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>myObject = new Object();</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>myObject.onScroller = function (text fieldInstance) {</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>   trace(textfieldInstance + &quot; has changed&quot;);</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>}</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>&nbsp;</span></span> </p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myTextField</span></span> <spanclass=Code><span lang=EN-US style='font-family:Courier;'>.addListener(myObject);</span></span> </p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myTextField</span></span> <spanclass=Code><span lang=EN-US style='font-family:Courier;'>.onScroller= function () {</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>   trace(this +&quot; has changed&quot;);</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>}</span></span> </p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span lang=EN-US> The listener objectneeds to have methods with the same name as the events to receive callbacknotification. If the listener object doesn't then you wont be able to respondto the event. In addition, the methods can have one parameter; the parameterwill be a reference to the calling text field that is the text field that firedthe event. See the code below:</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US> &nbsp;</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>myObject = new Object();</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>myObject.onScroller = function (text fieldInstance) {</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>   trace(text fieldInstance + &quot; haschanged&quot;);</span></span> </p><p class=MsoBodyText><span class=Code><span lang=EN-US style='font-family:Courier;'>}</span></span> </p>