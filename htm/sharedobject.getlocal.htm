<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link rel="stylesheet" href="desref.css" type="text/css"></head><h1>SharedObject.getLocal</h1><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>mySO =SharedObject.getLocal(“objectName”); </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>mySO =SharedObject.getLocal(“objectName”, “path”); </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Where a local shared object with the name of <spanclass=Code><span style='font-family:Courier'>objectName </span></span>isretrieved or created and assigned to the <span class=Code><spanstyle='font-family:Courier'>mySO </span></span>variable. The optional <spanclass=Code><span style='font-family:Courier'>path </span></span>parameterdefines a specific path to the shared object file.</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>This method is <span class=ImportantWord><spanstyle='font-family:Helvetica'>compatible with Flash 6 and above. </span></span>There are <span class=ImportantWord><span style='font-family:Helvetica'>noknown issues </span></span>with any version of Flash that supports this object.</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>This method is used to both retrieve and create a localshared object. The shared object retrieved or created is locally persistent andavailable only to the current client. <span class=Code><span style='font-family:Courier'>getLocal </span></span>should be the first method called when workingwith shared objects. Once you have retrieved the shared object you can checkfor the existence of attributes of the <span class=Code><span style='font-family:Courier'>data </span></span>property that have been saved in previous sessions.See also <span class=ImportantWord><span style='font-family:Helvetica'>SharedObject.flush. </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>objectName </span></span>parameter can include a forward slash,for example <span class=Code><span style='font-family:Courier'>globalsharedobjects/userinformation </span></span>or <span class=Code><span style='font-family:Courier'>globalsharedobjects/historyinformation. </span></span>However, the name cannot include any of the following characters: <spanclass=Code><span style='font-family:Courier'>~ % &amp; \ ; : “ ‘, &lt; &gt; ?#. </span></span>It should be noted that the name you choose for a sharedobject will alter the path and filename of the SOL file associated with yourshared object. If you include a forward slash in the name, for example <spanclass=Code><span style='font-family:Courier'>mySO =SharedObject.getLocal(“so/myso”); </span></span>(from a SWF file named<spanclass=Code><span style='font-family:Courier'> mySoTest.swf </span></span>) thefile will be stored in the following directory:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>{pathToSharedObject}/{domain}/mySoTest.swf/#so/myso.sol. </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>path </span></span>parameter is optional; if you don’t pass a value for this parameter the FlashPlayer will automatically use the default value. The default value is the fullpath to the SWF file that created the shared object. For example, you may havevisited a page on <span class=Code><span style='font-family:Courier'>macromedia.com </span></span>that loaded a SWF file and created a shared object named <span class=Code><spanstyle='font-family:Courier'>flashcookie </span></span>at:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>http://www.macromedia.com/software/flash/mx/information.swf. </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>The shared object would reside in the following locationon your hard drive:</p><p class=MsoBodyText> <span class=Code><spanstyle='font-family:Courier'>{pathToSharedObject}/macromedia.com/software/flash/mx/information.swf/flashcookie.sol </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Using the full path as the default value avoids sharedobject name collisions between domains and within the same domain. This willenable two different domains to have the same name for a shared object withoutany conflicts.</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>path </span></span>parameter is optional and will define the path to the local shared object (onthe hard drive); however, all shared objects will be stored in the current <spanclass=Code><span style='font-family:Courier'>{domain} </span></span>folder. Thefollowing table shows a range of different settings and results when using the <spanclass=Code><span style='font-family:Courier'>path </span></span>parameter.</p><p class=MsoBodyText>&nbsp;</p><table border=1 cellspacing=0 cellpadding=0 style='border-collapse:collapse;border:none;'> <tr> <td width=211 valign=top style='width:2.2in;border:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Location of SWF file </span></span></p>  </td>  <td width=204 valign=top style='width:153.0pt;border:solid windowtext .5pt;  border-left:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Shared object name and path </span></span></p>  </td>  <td width=168 valign=top style='width:1.75in;border:solid windowtext .5pt;  border-left:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Resulting.sol file location </span></span></p>  </td> </tr> <tr> <td width=211 valign=top style='width:2.2in;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>http://www.macromedia.com/software/flashplayer/version6/mymovie.swf </span></span></p>  </td>  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:  none;border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>SharedObject.getLocal(“flashcookie”, “/”); </span></span></p>  </td>  <td width=168 valign=top style='width:1.75in;border-top:none;border-left:  none;border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>{pathToSharedObject}/macromedia.com/flashcookie.sol </span></span></p>  </td> </tr> <tr> <td width=211 valign=top style='width:2.2in;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>http://www.macromedia.com/software/flashplayer/version6/mymovie.swf </span></span></p>  </td>  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:  none;border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>SharedObject.getLocal(“flashcookie”, </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>“/generalinfo/”); </span></span></p>  </td>  <td width=168 valign=top style='width:1.75in;border-top:none;border-left:  none;border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>{pathToSharedObject}/macromedia.com/generalinfo/flashcookie.sol </span></span></p>  </td> </tr> <tr> <td width=211 valign=top style='width:2.2in;border:solid windowtext .5pt;  border-top:none;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>http://www.macromedia.com/software/flashplayer/version6/mymovie.swf </span></span></p>  </td>  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:  none;border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>SharedObject.getLocal(“flashcookie/mySo”, </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>“/software/flashplayer” </span></span><span  class=Code><span style='font-family:Courier'>); </span></span></p>  </td>  <td width=168 valign=top style='width:1.75in;border-top:none;border-left:  none;border-bottom:solid windowtext .5pt;border-right:solid windowtext .5pt;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>{pathToSharedObject}/macromedia.com/software/flashplayer/#flashcookie/mySo.sol </span></span></p>  </td> </tr></table><h3>Description</h3><p class=MsoBodyText>This method is used to retrieve or create a locallypersistent shared object.</p><p class=MsoBodyText>&nbsp;</p><table border=1 cellspacing=0 cellpadding=0 style='margin-left:14.2pt; border-collapse:collapse;border:none;'> <tr> <td width=243 valign=top style='width:182.45pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Code </span></span></p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td>  <td width=153 valign=top style='width:114.75pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Additional explanation </span></span></p>  </td>  <td width=175 valign=top style='width:131.4pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'><span class=ImportantWord><span  style='font-family:Helvetica'>Notes </span></span></p>  </td> </tr> <tr> <td width=243 valign=top style='width:182.45pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><br> <span class=Code><span style='font-family:Courier'>mySO = SharedObject.getLocal(“foo”); </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>&nbsp; </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>if (mySO.data.username == undefined) promptForUsername(); </span></span></p>  </td>  <td width=153 valign=top style='width:114.75pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td>  <td width=175 valign=top style='width:131.4pt;border:none;border-bottom:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>A common use for shared objects is to store information about a user such as a username, real name and an age. This code retrieves a shared object, checks for the username attribute, and if it doesn’t exist, executes a custom function to retrieve a username.</p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td> </tr> <tr> <td width=243 valign=top style='width:182.45pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><br> <span class=Code><span style='font-family:Courier'>mySO = SharedObject.getLocal(“foo”); </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>&nbsp; </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>t = new Date(); </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>currentDate = t.getDate(); </span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp; </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>if (mySO.data.lastAccessed &lt; currentDate - 5) updateNews(); </span></span></p>  </td>  <td width=153 valign=top style='width:114.75pt;border:none;border-bottom:  solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td>  <td width=175 valign=top style='width:131.4pt;border:none;border-bottom:solid windowtext .5pt;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>This is an example of using shared objects to create a session. It minuses the <span class=Code><span  style='font-family:Courier'>currentDate </span></span>variable by <span  class=Code><span style='font-family:Courier'>5 </span></span>days and checks that value against the date the movie was last accessed (store in the <span  class=Code><span style='font-family:Courier'>lastAccessed </span></span> attribute). If the movie hasn’t been accessed in five days, the movie calls the custom <span class=Code><span style='font-family:Courier'>updateNews </span></span> function, which could be used to pull information from a server.</p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td> </tr> <tr> <td width=243 valign=top style='width:182.45pt;border:none;border-bottom:  solid windowtext .5pt;background:  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>&nbsp; </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>mySO = new SharedObject(); </span></span></p>  <p class=MsoBodyText style='margin-left:0in'><span class=Code><span  style='font-family:Courier'>mySO.getLocal(“foo”); </span></span></p>  </td>  <td width=153 valign=top style='width:114.75pt;border:none;border-bottom:  solid windowtext .5pt;background:  #D9D9D9;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>Incorrect usage.</p>  </td>  <td width=175 valign=top style='width:131.4pt;border:none;border-bottom:solid windowtext .5pt;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt'> <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0in'>The <span class=Code><span  style='font-family:Courier'>SharedObject </span></span>object is a top level object and doesn’t need to be initiated via the new constructor. This object exists as soon as the Flash Player starts executing your file, much like the <span  class=Code><span style='font-family:Courier'>Stage </span></span>object.</p>  <p class=MsoBodyText style='margin-left:0in'>&nbsp;</p>  </td> </tr></table><h3>Examples and practical uses</h3><h4>General</h4><p class=MsoBodyText>Shared objects can be used to determine if a user hasaccessed your movie before (assuming you’ve previously stored a shared object).You can then determine if a sign-up screen should be displayed or a memberscreen should be displayed. This is a very simple task and only the <spanclass=Code><span style='font-family:Courier'>getLocal </span></span>method ofthe shared object is used. However, before exiting the Flash movie an attributemust be saved in your shared object that you can query in subsequent visits.The following code is an example:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>mySO =SharedObject.getLocal(&quot;mySO&quot;); </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp; </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>if(mySO.data.priorAccess != true) { </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp; </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'> mySO.data.priorAccess = true; </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'> mySO.flush(); </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'> gotoAndStop(&quot;userSetup&quot;); </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp; </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>} else{ </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>  </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'> gotoAndStop(&quot;memberWelcome&quot;); </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp; </span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>} </span></span></p><h4>Site-wide shared objects and paths</h4><p class=MsoBodyText>The optional <span class=Code><span style='font-family:Courier'>path </span></span>parameter of the <span class=Code><spanstyle='font-family:Courier'>getLocal </span></span>method can be used to createsite-wide shared objects that can be accessed by any Flash movie within thesame domain. This is useful for having information that is continuously used bymultiple sections of the site, while still having the ability to keepsection-specific information in different shared objects. See the examples:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><ahref="../fla/SharedObject.getLocal.fla">SharedObject.getLocal.fla</a>/ <a href="../swf/SharedObject.getLocal.swf">SharedObject.getLocal.swf</a></p><p class=MsoBodyText><ahref="../fla/SharedObject.getLocal2.fla">SharedObject.getLocal2.fla</a>/ <ahref="../swf/SharedObject.getLocal2.swf">SharedObject.getLocal2.swf</a></p><p class=MsoBodyText><ahref="../fla/SharedObject.getLocal3.fla">SharedObject.getLocal3.fla</a>/ <ahref="../swf/SharedObject.getLocal3.swf">SharedObject.getLocal3.swf</a></p><h3>Tips and precautions</h3><p class=MsoBodyText>When retrieving a shared object, make sure you use theexact same name and path parameters that you’ve used to create the sharedobject. This is quite an easy mistake to make, which could end up withdisastrous results.</p>