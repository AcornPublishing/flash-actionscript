<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link rel="stylesheet" href="desref.css" type="text/css"><h1><a name="_Toc15970090">XML.insertBefore</a></h1><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myNode.insertBefore(a,b); </span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Where <span class=Code><span style='font-family:Courier'>myNode</span></span>is a specified node of an XML object instance, <span class=Code><spanstyle='font-family:Courier'>a</span></span> is <span class=ImportantWord><spanstyle='font-family:Helvetica'>an existing node</span></span> in the XML objectinstance, and <span class=Code><span style='font-family:Courier'>b</span></span>is a child of <span class=Code><span style='font-family:Courier'>myNode</span></span>.<span class=ImportantWord><span style='font-family:Helvetica'>a will beinserted before b</span></span><b>.</b></p><p class=MsoBodyText><span class=Code>&nbsp;</span></p><p class=MsoBodyText>Compatible with <span class=ImportantWord><spanstyle='font-family:Helvetica'>Flash 5 Player and later</span></span><spanclass=Code>.This</span> method is used to insert a new node into a specifiedlocation of an XML object’s child list. Refer to the related entries <spanclass=ImportantWord><span style='font-family:Helvetica'>XML.appendChild</span></span>and <span class=ImportantWord><span style='font-family:Helvetica'>XML.cloneNode</span></span>.</p><h3>Description</h3><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>XML.insertBefore()</span></span><spanclass=ImportantWord><span style='font-family:Helvetica'>method</span></span>inserts a new node in an XML object’s child list. It positions the new nodebefore the second parameter called in the method.</p><p class=MsoBodyText>&nbsp;</p><table border=1 cellspacing=0 cellpadding=0 style='margin-left:14.2pt; border-collapse:collapse;border:none;'> <tr>  <td width=348 valign=top style='width:261.2pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Code</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=108 valign=top style='width:81.0pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Returned value</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=115 valign=top style='width:86.4pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Notes</span></span></p>  </td> </tr> <tr>  <td width=348 valign=top style='width:261.2pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml  = new XML(&quot;&lt;cat&gt;Whiskers&lt;/cat&gt;&quot;);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML  = myXML_xml.firstChild.cloneNode(true);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML.firstChild.nodeValue  = &quot;Spooky&quot;;</span></span></p>  <p class=MsoBodyText><span class=Code-NEW><span style='font-family:"Optima Bold";  border:none'><span style='border:none'>myXML_xml.insertBefore(newXML,myXML_xml.firstChild);</span></span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(myXML_xml);</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=108 valign=top style='width:81.0pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&lt;cat&gt;Spooky&lt;/cat&gt;&lt;cat&gt;Whiskers&lt;/cat&gt;</span></span></p>  </td>  <td width=115 valign=top style='width:86.4pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText>&nbsp;</p>  <p class=MsoBodyText style='margin-left:0cm'>The <span class=Code><span  style='font-family:Courier'>cloneNode</span></span> method is used to clone a  node, and then insert the cloned node before the original one.</p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td> </tr> <tr>  <td width=348 valign=top style='width:261.2pt;border:none;border-bottom:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml  = new XML(&quot;&lt;cat&gt;Whiskers&lt;/cat&gt;&quot;);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML  = myXML_xml.firstChild.cloneNode(true);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML.firstChild.nodeValue  = &quot;Spooky&quot;;</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml.appendChild(newXML);</span></span></p>  <p class=MsoBodyText><span class=Code-NEW><span style='font-family:"Optima Bold";  border:none'><span style='border:none'>myXML_xml.insertBefore(newXML,myXML_xml.firstChild);</span></span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(myXML_xml);</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=108 valign=top style='width:81.0pt;border:none;border-bottom:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code>&nbsp;</span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&lt;cat&gt;Whiskers&lt;/cat&gt;&lt;cat&gt;Spooky&lt;/cat&gt;</span></span></p>  </td>  <td width=115 valign=top style='width:86.4pt;border:none;border-bottom:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code>This XML is  not in the correct order because </span><span class=Code><span  style='font-family:Courier'>appendChild</span></span><span class=Code> has been  used.</span></p>  </td> </tr> <tr>  <td width=348 valign=top style='width:261.2pt;border:none;border-bottom:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml  = new  XML(&quot;&lt;cat&gt;&lt;catname&gt;Whiskers&lt;/catname&gt;&lt;age&gt;5&lt;/age&gt;&lt;/cat&gt;&quot;);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newElement  = myXML_xml.createElement(&quot;fur&quot;);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newText  = myXML_xml.createTextNode(&quot;black&quot;);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newElement.appendChild(newText);</span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>var  thenode = myXML_xml.firstChild.firstChild.nextSibling;</span></span></p>  <p class=MsoBodyText><span class=Code-NEW><span style='font-family:"Optima Bold";  border:none'><span style='border:none'>myXML_xml.insertBefore(newElement,  thenode);</span></span></span></p>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(myXML_xml);</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=108 valign=top style='width:81.0pt;border:none;border-bottom:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code>&nbsp;</span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&lt;cat&gt;&lt;catname&gt;Whiskers&lt;/catname&gt;&lt;age&gt;5&lt;/age&gt;&lt;/cat&gt;</span></span></p>  </td>  <td width=115 valign=top style='width:86.4pt;border:none;border-bottom:solid windowtext .5pt;background:#D9D9D9;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code>You need to  specify </span><span class=Code><span style='font-family:Courier'>myXML_xml.firstChild.insertBefore</span></span><span  class=Code> in order to get correct scoping.</span></p>  </td> </tr></table><h3>Examples and practical uses</h3><p class=MsoBodyText>This method is useful when you are creating new XML data,perhaps using <span class=Code><span style='font-family:Courier'>createTextNode</span></span>or <span class=Code><span style='font-family:Courier'>createElement</span></span>methods, because you can manipulate where these new nodes are situated. The <spanclass=Code><span style='font-family:Courier'>XML.insertBefore()</span></span>method takes two arguments: the name of the new node to be inserted and thename of the node before which the new node is to be inserted. In the followingexample, a new element is added before the location specified by a variablecalled <span class=Code><span style='font-family:Courier'>thenode</span></span>:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml= new XML(&quot;&lt;cat&gt;&lt;catname&gt;Whiskers&lt;/catname&gt;&lt;age&gt;5&lt;/age&gt;&lt;/cat&gt;&quot;);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newElement= myXML_xml.createElement(&quot;fur&quot;);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newText= myXML_xml.createTextNode(&quot;black&quot;);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newElement.appendChild(newText);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>varthenode = myXML_xml.firstChild.firstChild.nextSibling;</span></span></p><p class=MsoBodyText><span class=Code-NEW><span style='font-family:"Optima Bold";border:none'><span style='border:none'>myXML_xml.firstC<span style='border:none'>hild.insertBefore(newElement, thenode);</span></span></span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(myXML_xml);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p><p class=MsoBodyText><span class=Code>This code will return the following (correct) XMLdata to the </span><span class=ScreenText><span style='font-family:Optima'>Output</span></span><spanclass=Code>window:</span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&lt;cat&gt;&lt;catname&gt;Whiskers&lt;/catname&gt;&lt;fur&gt;black&lt;/fur&gt;&lt;age&gt;5&lt;/age&gt;&lt;/cat&gt;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p><p class=MsoBodyText><span class=Code>Refer to the example </span><ahref="../fla/xml.insertbefore.fla">xml.insertbefore.fla</a> and <ahref="../swf/xml.insertbefore.swf">xml.insertbefore.swf</a> <spanclass=Code>for more an example of this method in use.</span></p><h3>Tips and precautions</h3><p class=MsoBodyText>This method is useful in how it differs from <spanclass=Code><span style='font-family:Courier'>appendChild</span></span>. The <spanclass=Code><span style='font-family:Courier'>insertBefore</span></span> methodlets you control precisely where you want to insert the node in question. Whenusing this method, you will want to be careful how you order the <spanclass=Code><span style='font-family:Courier'>appendChild</span></span> and <spanclass=Code><span style='font-family:Courier'>insertBefore</span></span> linesof code. This will make a difference in the outcome of your XML structure, orin the success in adding nodes to the data.</p>