<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link rel="stylesheet" href="desref.css" type="text/css"><h1><a name="_Toc15970080">XML.cloneNode</a></h1><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML.cloneNode(a)</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Where <span class=Code><span style='font-family:Courier'>myXML</span></span>is an XML instance and <span class=Code><span style='font-family:Courier'>a</span></span>is a Boolean value of <span class=Code><span style='font-family:Courier'>true</span></span>or <span class=Code><span style='font-family:Courier'>false</span></span>.</p><p class=MsoBodyText><span class=Code>&nbsp;</span></p><p class=MsoBodyText>Compatible with <span class=ImportantWord><spanstyle='font-family:Helvetica'>Flash Player 5 and later</span></span><spanclass=Code>.</span>This method is used to return a new node of the same type as aspecified node. Refer to the related entries <span class=ImportantWord><spanstyle='font-family:Helvetica'>XML.appendChild</span></span>, <spanclass=ImportantWord><span style='font-family:Helvetica'>XML.createTextNode</span></span>,<span class=ImportantWord><span style='font-family:Helvetica'>XML.createElement</span></span>,and <span class=ImportantWord><span style='font-family:Helvetica'>XML.insertBefore</span></span>.</p><h3>Description</h3><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>XML.cloneNode()</span></span><span class=ImportantWord><span style='font-family:Helvetica'>method</span></span>lets you clone a node, identical to an existing node, retaining the node typesand all attributes. If the parameter is <span class=Code><spanstyle='font-family:Courier'>true</span></span>, all the children of the nodeare recursively cloned as well. If the parameter is <span class=Code><spanstyle='font-family:Courier'>false</span></span>, the children nodes of thespecified node are not cloned.</p><p class=MsoBodyText>&nbsp;</p><table border=1 cellspacing=0 cellpadding=0 style='margin-left:14.2pt; border-collapse:collapse;border:none;'> <tr>  <td width=256 valign=top style='width:191.8pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Code</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=177 valign=top style='width:132.4pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Returned Values</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=139 valign=top style='width:104.4pt;border-top:solid windowtext .5pt;  border-left:none;border-bottom:solid windowtext .5pt;border-right:none;  padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=ImportantWord><span  style='font-family:Helvetica'>Notes</span></span></p>  </td> </tr> <tr>  <td width=256 valign=top style='width:191.8pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:3.8pt'><span class=Code><span  style='font-family:Courier'>myXML_xml = new  XML(&quot;&lt;cat&gt;Whiskers&lt;/cat&gt;&quot;);</span></span></p>  <p class=MsoBodyText style='margin-left:3.8pt'><span class=Code><span  style='font-family:Courier'>newXML = myXML_xml.firstChild.cloneNode(true);</span></span></p>  <p class=MsoBodyText style='margin-left:3.8pt'><span class=Code><span  style='font-family:Courier'>newXML.firstChild.nodeValue = &quot;Spooky&quot;;</span></span></p>  <p class=MsoBodyText style='margin-left:3.8pt'><span class=Code><span  style='font-family:Courier'>myXML_xml.appendChild(newXML);</span></span></p>  <p class=MsoBodyText style='margin-left:3.8pt'><span class=Code><span  style='font-family:Courier'>trace(myXML_xml);</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=177 valign=top style='width:132.4pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'><span class=Code><span  style='font-family:Courier'>&lt;cat&gt;Whiskers&lt;/cat&gt;&lt;cat&gt;Spooky&lt;/cat&gt;</span></span></p>  <p class=MsoBodyText style='margin-left:0cm'>&nbsp;</p>  </td>  <td width=139 valign=top style='width:104.4pt;border:none;border-bottom:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>  <p class=MsoBodyText style='margin-left:3.6pt'><span class=Code><span  style='font-family:Courier'>&nbsp;</span></span></p>  <p class=MsoBodyText style='margin-left:3.6pt'><span class=Code>The first  node is cloned, and then the values of the element and text node are change  to reflect a second cat.</span></p>  </td> </tr></table><h3>Examples and practical uses</h3><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>XML.cloneNode()</span></span>method makes an exact clone of a node, including name, attributes, values, andtype. The clone can include all the children of the specified node if theparameter is set true:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml= newXML(&quot;&lt;cat&gt;&lt;name&gt;Whiskers&lt;/name&gt;&lt;/cat&gt;&quot;);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML= myXML_xml.firstChild.cloneNode(true);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(newXML);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p><p class=MsoBodyText><span class=Code>Which would trace:</span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&lt;cat&gt;&lt;name&gt;Whiskers&lt;/name&gt;&lt;/cat&gt;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p><p class=MsoBodyText>However, if you set the<span class=Code><spanstyle='font-family:Courier'> cloneNode</span></span> to <span class=Code><spanstyle='font-family:Courier'>false</span></span>, it would trace:</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&nbsp;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&lt;cat/&gt;</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>If you use <span class=Code><span style='font-family:Courier'>XML.insertBefore</span></span>,you can rearrange the ordering of your cloned nodes:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml= new XML(&quot;&lt;cat&gt;Whiskers&lt;/cat&gt;&quot;);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML= myXML_xml.firstChild.cloneNode(true);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML.firstChild.nodeValue= &quot;Spooky&quot;;</span></span></p><p class=MsoBodyText><span class=Code-NEW><span style='font-family:"Optima Bold";border:none'><span style='border:none'>myXML_xml.insertBefore(newXML,myXML_xml.firstChild);</span></span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(myXML_xml);</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>In the <span class=ScreenText><span style='font-family:Optima'>Output</span></span> window you will see the reverse of your earlierXML:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&lt;cat&gt;Spooky&lt;/cat&gt;&lt;cat&gt;Whiskers&lt;/cat&gt;</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>You should note that when using the <span class=Code><spanstyle='font-family:Courier'>insertBefore</span></span> code you do not need touse the <span class=Code><span style='font-family:Courier'>appendChild </span></span>method.</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>If you want to dig a bit deeper, and clone multiple nodes,you might end up with something similar to the following:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml= newXML(&quot;&lt;cats&gt;&lt;name&gt;Whiskers&lt;/name&gt;&lt;age&gt;5&lt;/age&gt;&lt;/cats&gt;&quot;);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML= myXML_xml.firstChild.childNodes[0].cloneNode(true);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML.firstChild.nodeValue= &quot;Spooky&quot;;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml.firstChild.appendChild(newXML);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML2= myXML_xml.firstChild.childNodes[0].nextSibling.cloneNode(true);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newXML2.firstChild.nodeValue= &quot;2&quot;;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml.firstChild.appendChild(newXML2);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(myXML_xml);</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Which outputs the following XML:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&lt;cats&gt;&lt;name&gt;Whiskers&lt;/name&gt;&lt;age&gt;5&lt;/age&gt;&lt;name&gt;Spooky&lt;/name&gt;&lt;age&gt;2&lt;/age&gt;&lt;/cats&gt;</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>As you can see, you might want to actually want toseparate each cat, and nest their &quot;properties&quot;. You could do this byusing the following code:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml= newXML(&quot;&lt;cats&gt;&lt;cat1&gt;&lt;name&gt;Whiskers&lt;/name&gt;&lt;age&gt;5&lt;/age&gt;&lt;/cat1&gt;&lt;/cats&gt;&quot;);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newCat= myXML_xml.firstChild.childNodes[0].cloneNode(true);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newCat.nodeName= &quot;cat2&quot;;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>myXML_xml.firstChild.appendChild(newCat);</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newCat.firstChild.firstChild.nodeValue= &quot;Spooky&quot;;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>newCat.firstChild.nextSibling.firstChild.nodeValue= &quot;2&quot;;</span></span></p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>trace(myXML_xml);</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>Which would output the following:</p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText><span class=Code><span style='font-family:Courier'>&lt;cats&gt;&lt;cat1&gt;&lt;name&gt;Whiskers&lt;/name&gt;&lt;age&gt;5&lt;/age&gt;&lt;/cat1&gt;&lt;cat2&gt;&lt;name&gt;Spooky&lt;/name&gt;&lt;age&gt;2&lt;/age&gt;&lt;/cat2&gt;&lt;/cats&gt;</span></span></p><p class=MsoBodyText>&nbsp;</p><p class=MsoBodyText>See also <span class=Code>the example <ahref="../fla/xml.clonenode.fla">xml.clonenode.fla</a></span></span> and <spanclass=Code><ahref="../swf/xml.clonenode.swf">xml.clonenode.swf</a> .</span></span></p><h3>Tips and precautions</h3><p class=MsoBodyText>The <span class=Code><span style='font-family:Courier'>XML.cloneNode()</span></span>method lets you copy an entire node of an XML instance, including its childrento a new object instance. It can then be attached to or inserted wherever it isneeded. When doing so, you will have to be careful of your dot notationhierarchy and remember (as noted earlier) you do not need to append a node whenyou are inserting it into the structure using <span class=Code><spanstyle='font-family:Courier'>insertBefore</span></span>.</p>